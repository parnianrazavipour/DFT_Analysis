<!DOCTYPE html>
<html>
<head>
    <title>Analysis Results for Uploaded File</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f4f4f9;
            margin: 0; 
            padding: 20px; 
            color: #333;
            text-align: center;
        }
        h1 {
            color: #444;
            margin-bottom: 20px;
        }
        button {
            background-color: #007bff;
            color: white;
            border: none;
            padding: 10px 20px;
            margin: 10px;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        button:hover {
            background-color: #0056b3;
        }
        img {
           
            width: 100vw; 
            max-width: none; 
            max-height: 80vh; 
            margin-top: 20px;
            border-radius: 5px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            display: none;
            margin-left: auto;
            margin-right: auto;
            object-fit: contain;
        }
        .explanation {
            padding: 20px;
            background-color: #fff;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            margin-top: 20px;
            font-size: 16px;
            text-align: left;
        }
    </style>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

    <script>
        function loadImage(imagePath) {
            document.getElementById('displayImage').src = imagePath;
        }



        function loadXCorr() {
            const filename = '{{ filename }}';
            document.getElementById('displayImage').src = "{{ url_for('static', filename='images/loading.gif') }}";
            fetch('{{ url_for("main.process_xcorr_uploaded", filename=filename) }}')
                .then(response => response.blob())
                .then(blob => {
                    const url = window.URL.createObjectURL(blob);
                    document.getElementById('displayImage').src = url;
                })
                .catch(e => console.error("Failed to load XCorr plot:", e));
        }


    </script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script>
        function loadImage(imagePath) {
            console.log("Loading image from", imagePath);
            document.getElementById('displayImage').src = imagePath;
        }

        function loadXCorr() {
            console.log("Fetching XCorr plot");
            document.getElementById('displayImage').src = "{{ url_for('static', filename='images/loading.gif') }}";
            fetch('{{ url_for("main.process_xcorr") }}')
                .then(response => response.blob())
                .then(blob => {
                    const url = window.URL.createObjectURL(blob);
                    document.getElementById('displayImage').src = url;
                })
                .catch(e => console.error("Failed to load XCorr plot:", e));
        }
    </script>
</head>
<body>
    <h1>Analysis Results</h1>
    <div class="explanation">
        <p><strong>Brute Force DFT via Cross-Correlation</strong></p>
        <p>The plots generated in this part represents a method to find frequency components within a signal by using a process akin to trial and error. This is called a "brute force" method because it systematically tries out sine waves of different frequencies (from 1 Hz up to the Nyquist frequency) to see how well they match the original signal. This matching process is done through cross-correlation. </p>
            
            <p>This approach is computationally extensive and really slow because it evaluates the correlation for each frequency one by one, which makes it less practical for large datasets or real-time analysis. Its computational complexity is of the order \( O(N^2) \).</p>
            
            <p>So if you click the button "Brute Force DFT,"  you should be patient because it might take so long to see the results!.</p>
        <p><strong>Fast Fourier Transform (FFT)</strong></p>
        <p>The plot hereare generated by the Fast Fourier Transform (FFT), whic is an efficient algorithm for computing DFT. Unlike the slower brute force DFT method, the FFT significantly reduces computational complexity from \( O(N^2) \) to \( O(N log N) \), making it better for handling large datasets and real-time signal processing.</p>
    </div>
    <button onclick="loadImage('{{ url_for('static', filename='images/time_domain_plot.png') }}')">Time Domain Plot</button>
    <button onclick="loadImage('{{ url_for('static', filename='images/frequency_domain_plot.png') }}')">Fast Fourier Transform (FFT)</button>
    <button onclick="loadXCorr()">Brute Force DFT</button>
    <img id="displayImage" style="display:none;" alt="Selected Figure will appear here...">
    <script>
        // Show image only when a button is clicked
        document.querySelectorAll('button').forEach(button => {
            button.addEventListener('click', () => {
                document.getElementById('displayImage').style.display = 'block';
            });
        });
    </script>
</body>
</html>












